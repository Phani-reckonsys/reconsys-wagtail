document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#newsletter-email"),t=document.querySelector(".newsletter-submit"),n=document.querySelector(".newsletter-subscription-thankyou"),s=document.querySelector(".subscription-error-message"),r=document.querySelector("[name=csrfmiddlewaretoken]").value;function o(t){e.classList.add("error"),s.classList.add("active"),s.textContent=t}function c(){const t=e.value.trim();""!==t?!function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(t)?o("Please enter a valid email address"):(e.classList.remove("error"),s.classList.remove("active"),s.textContent="",fetch("https://www.reckonsys.com/backend/news-letter",{method:"POST",body:JSON.stringify({email:t}),headers:{"Content-Type":"application/json","X-CSRFToken":r}}).then((e=>e.json())).then((e=>{n.classList.add("active")})).catch((e=>{}))):o("Please enter your email")}t.addEventListener("click",(e=>{e.preventDefault(),c()}))}));