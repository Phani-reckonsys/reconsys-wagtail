document.addEventListener("DOMContentLoaded",(function(){function e(e,t){e.classList.add("error");const n=e.parentElement.querySelector(".error-message");n.classList.add("active"),n.textContent=t}function t(e){e.classList.remove("error");const t=e.parentElement.querySelector(".error-message");t.classList.remove("active"),t.textContent=""}fetch("https://restcountries.com/v3.1/all").then((e=>e.json())).then((e=>{!function(e){e.sort(((e,t)=>e.name.localeCompare(t.name)));var t,n=document.querySelector("#country-code");t=e,n.innerHTML="",t.forEach((e=>{var t=document.createElement("option");t.value=e.dial_code,t.text=`${e.dial_code} ${e.name}`,n.add(t)})),n.value="+91"}(e.map((e=>({name:e.name.common,dial_code:e.idd.root+(e.idd.suffixes?e.idd.suffixes[0]:""),flag:e.flags[0]}))))})).catch((e=>{}));document.getElementById("submit-btn").addEventListener("click",(n=>{n.preventDefault(),grecaptcha.ready((function(){grecaptcha.execute("6Ldc9-spAAAAAIyosghMB05nLNStmWlCnEuzagPL",{action:"submit"}).then((function(n){!function(n){const o=document.querySelector("#name"),r=document.querySelector("#email"),a=document.querySelector("#country-code"),c=document.querySelector("#phone-number"),s=document.querySelector("#company"),u=document.querySelector("#services"),m=o.value.trim(),l=r.value.trim(),i=a.value,d=c.value.trim(),y=s.value.trim(),h=u.value.trim();let f=!1;if(m?t(o):(e(o,"Please enter your name"),f=!0),l?function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(l)?t(r):(e(r,"Please enter a valid email address"),f=!0):(e(r,"Please enter your email"),f=!0),i?t(a):(e(a,"Please enter your phone number"),f=!0),d?function(e){return/^\d{10}$/.test(e)}(d)?t(c):(e(c,"Please enter a valid phone number"),f=!0):(e(c,"Please enter your phone number"),f=!0),y?t(s):(e(s,"Please enter your company name"),f=!0),f)return;const p={name:m,email:l,phone:`${i}${d}`,company:y,service:h,token:n},v=document.querySelector("[name=csrfmiddlewaretoken]").value;fetch("https://www.reckonsys.com/backend/contact-us",{method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json","X-CSRFToken":v}}).then((e=>e.json())).then((e=>{window.location.href="https://www.reckonsys.com/thankyou/"})).catch((e=>{}))}(n)}))}))}))}));